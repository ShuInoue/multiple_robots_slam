<launch>
	<arg name="robot_name"/>
        <arg name="other_robot_name"/>
	<group ns="$(arg robot_name)">

		<include file="$(find roscore_communication)/launch/includes/discovery.launch.xml">
			<arg name="_mcast_group" value="224.0.0.1"/>
		</include>

		<include file="$(find roscore_communication)/launch/includes/sync.launch.xml">
			<arg name="sync_topics" value="['/robot*/map','/robot*/map_updates', '/robot*/robot_pose', '/robot*/camera/rgb/image_color/compressed']"/>
		</include>

		<node pkg="roscore_communication" type="get_other_pose" name="get_other_pose">
			<param name="sub_topic" value="/$(arg other_robot_name)/robot_pose"/>
			<param name="pub_topic" value="other_robot_pose/$(arg other_robot_name)_pose"/>
			<param name="my_mergemap_frame" value="$(arg robot_name)/merge_map"/>
		</node>
	</group>
</launch>
